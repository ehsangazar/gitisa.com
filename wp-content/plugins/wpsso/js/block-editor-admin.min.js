const{getCurrentPostId:getCurrentPostId}=wp.data.select("core/editor"),{isSavingMetaBoxes:isSavingMetaBoxes}=wp.data.select("core/edit-post"),{createNotice:createNotice,removeNotice:removeNotice}=wp.data.dispatch("core/editor"),{RawHTML:RawHTML,createElement:createElement}=wp.element,{PluginPostStatusInfo:PluginPostStatusInfo}=wp.editPost,{CheckboxControl:CheckboxControl}=wp.components,{registerPlugin:registerPlugin}=wp.plugins;var lastIsSaving=!1;function wpssoUpdateMetabox(){var o={action:"wpsso_get_metabox_post",post_id:getCurrentPostId(),_ajax_nonce:sucomBlockEditorL10n._ajax_nonce,_metabox_id:sucomBlockEditorL10n._metabox_id};jQuery.post(ajaxurl,o,function(o){o&&(jQuery("#"+sucomBlockEditorL10n._metabox_id).html(o),wpssoCreateNotices())})}function wpssoCreateNotices(){var o={action:"wpsso_get_notices_json",context:"block_editor",_ajax_nonce:sucomBlockEditorL10n._ajax_nonce,_exclude_types:sucomBlockEditorL10n._tb_notices};jQuery.getJSON(ajaxurl,o,function(o){jQuery.each(o,function(e){jQuery.each(o[e],function(t){var s=!1,n=o[e][t].msg_html,a=createElement(RawHTML,{},n),i={id:t,spokenMessage:o[e][t].msg_spoken,isDismissible:!o[e][t].dismiss_time};"err"==e?s="error":"warn"==e?s="warning":"inf"==e?s="info":"upd"==e&&(s="success"),s&&(removeNotice(t),createNotice(s,a,i),jQuery("div.wpsso-notice").parents("div.components-notice").removeClass("components-notice"))})}),wpssoUpdateToolbar()})}function wpssoUpdateToolbar(){if(sucomBlockEditorL10n._tb_notices){var o={action:"wpsso_get_notices_json",context:"toolbar_notices",_ajax_nonce:sucomBlockEditorL10n._ajax_nonce,_notice_types:sucomBlockEditorL10n._tb_notices};jQuery.getJSON(ajaxurl,o,function(o){var e="",t="",s=0,n={},a=sucomBlockEditorL10n._no_notices_html;if(jQuery.each(o,function(t){jQuery.each(o[t],function(a){e+=o[t][a].msg_html,n[t]=++n[t]||1,s++})}),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices-error"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices-warning"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices-info"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices-success"),e?(jQuery("#wp-admin-bar-wpsso-toolbar-notices-container").html(e),jQuery("#wp-admin-bar-wpsso-toolbar-notices").addClass("have-notices")):(jQuery("#wp-admin-bar-wpsso-toolbar-notices-container").html(a),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("have-notices")),jQuery("#wpsso-toolbar-notices-count").html(s),s){t="";n.err?t="error":n.warn?t="warning":n.inf?t="info":n.upd&&(t="success"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").addClass("have-notices-"+t)}})}}jQuery(document).ready(function(){wpssoCreateNotices()}),wp.data.subscribe(function(){var o=isSavingMetaBoxes();o===lastIsSaving||o||(lastIsSaving=o,wpssoUpdateMetabox()),lastIsSaving=o});